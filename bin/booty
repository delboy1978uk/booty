#!/usr/bin/env php
<?php

$path = file_exists('vendor/autoload.php') ? 'vendor/autoload.php' : '../../../autoload.php';

require_once $path;

use Del\Booty\BootyCommand;
use Del\Generator\ClearBuildsCommand;
use Symfony\Component\Console\Application;
use Symfony\Component\Console\Helper\HelperSet;
use Symfony\Component\Console\Helper\QuestionHelper;


$config = [];
if (file_exists('config/packages.php')) {
    $config = require_once 'config/packages.php';
}

if (empty($config)) {
    echo "No config/packages.php config found.\n";
} else {

    $containerSvc = ContainerService::getInstance();
    $helperSet = new HelperSet();
    $helperSet->set(new QuestionHelper());
    $booty = new BootyCommand();

    $app = new Application('Booty Asset Manager');
    $app->setHelperSet($helperSet);
    $app->add($blankCommand);
    $app->add($generatorCommand);
    $app->add($mvcCommand);
    $app->add($clearCommand);
    $app->add($packageCommand);
    $app->run();
}